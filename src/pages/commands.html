<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Vocality - Discord Music Bot</title>
    <meta name="description"
        content="Vocality is a free, easy to use Discord music bot made to deliver the best audio quality possible. Add Vocality to your Discord server in just a few clicks.">
    <meta name="robots" content="index, follow">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta property="og:title" content="Vocality - Discord Music Bot">
    <meta property="og:description"
        content="Vocality is a free, easy to use Discord music bot made to deliver the best audio quality possible.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://vocality-landing-page.kaindl745.now.sh/">
    <meta property="og:image" content="https://i.imgur.com/7Y19cDG.png">
    <link rel="shortcut icon" href="../favicon.ico">
    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./style.scss">
</head>

<body>
    <header class="flex py1 px3">
        <div class="icon flex">
            <img src="../assets/logo.svg" alt="vocality-logo" class="my-auto">
        </div>
        <div class="flex-auto"></div>
        <nav class="hide-on-sm">
            <ul class="list-reset flex items-center m0 h-100">
                <li>
                    <a href="#" class="text-decoration-none px3">Commands</a>
                </li>
                <li>
                    <a href="#" class="text-decoration-none px3">FAQ</a>
                </li>
                <li>
                    <a href="#" class="text-decoration-none px3">About</a>
                </li>
            </ul>
        </nav>
    </header>

    <div class="search flex justify-center pt4">
        <img src="../assets/search.svg" alt="search"    >
        <input type="search" placeholder="Search Commands" name="search" contenteditable="true" autocomplete="off"
            maxlength="48" id="search-field" class="border-none">
        <span id="search-field-helper"></span>
    </div>

    <svg xmlns="http://www.w3.org/2000/svg" height="100%" width="100%" fill="none" viewBox="0 0 1920 2524"
        preserveAspectRatio="none" class="bg-svg">
        <rect width="727.426" height="4670.24" fill="#FF3F60"
            transform="matrix(-0.311873 -0.950124 0.936184 -0.35151 -950.606 3105.51)" />
        <rect width="727.426" height="4670.24" fill="#0C003F"
            transform="matrix(-0.311873 -0.950124 0.936184 -0.35151 -1155.87 2407.65)" />
        <rect width="727.426" height="4670.24" fill="#29ABE2"
            transform="matrix(-0.311873 -0.950124 0.936184 -0.35151 -1361.14 1709.78)" />
    </svg>

    <script>
        window.addEventListener('load', () => {
            const searchElement = document.getElementById('search-field');
            searchElement.focus();
            const span = document.getElementById('search-field-helper');

            // checks length of character in the span helper and calculates the new width based on the spans width
            const resizeForText = (text) => {
                if (!text.trim()) {
                    text = searchElement.getAttribute('placeholder').trim();
                }
                span.innerHTML = text;
                searchElement.style.width = window.getComputedStyle(span).width;
            }

            // listen on keydown and react to all characters
            searchElement.addEventListener('keypress', (char) => {
                if (char.which && char.charCode) {
                    const newChar = String.fromCharCode(char.keyCode | char.charCode);
                    resizeForText(searchElement.value + newChar);
                }
            });
            // listen to keyup and react to backspace and del
            searchElement.addEventListener('keyup', (char) => {
                if (char.keyCode === 8 || char.keyCode === 46) {
                    resizeForText(searchElement.value);
                }
            });

            // set initial width based on placeholder
            resizeForText('');
        });


    </script>

</body>

</html>